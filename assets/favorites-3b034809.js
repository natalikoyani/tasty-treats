import{r as n,s as S,a as T}from"./theme-dark-mode-c45cce41.js";const b=document.querySelector(".js-list-fav"),w=document.querySelector(".js-fav-wrapper"),l=document.querySelector(".js-hero-img");let u=localStorage.getItem("favoriteRecipes"),t=u?JSON.parse(u):[];t=Array.isArray(t)?t:[];window.addEventListener("resize",y);y();function y(){window.innerWidth<768&&l.classList.add("visually-hidden"),window.innerWidth>=768&&l.classList.remove("visually-hidden")}function d(e){let a,r;if(e.length)a=n(t),l.classList.remove("visually-hidden"),b.innerHTML=a;else return r=`<li class="hero-mob-wrapper">
            <svg class="hero-fav-svg">
            <use href="${S}#hat"></use>
          </svg>
            <p class="hero-text-fav">
              It appears that you haven't added any recipes to your favorites yet.
              To get started, you can add recipes that you like to your favorites
              for easier access in the future.
            </p>
          </li>`,w.insertAdjacentHTML("beforeend",r)}d(t);const f=document.querySelector(".js-categories-container"),q=t.map(e=>e.category);function v(e){const a=[...new Set(e)],r=a.map(c=>`<button class="fav-category-fltr-btn " id='${c}' type="button" data-category="${c}">${c}</button>`).join(""),o=()=>a.length?`<button class="fav-category-fltr-btn btn-all-categories active-category-fav" id="all" type="button">All categories</button>${r}`:f.innerHTML="";f.innerHTML=o()}v(q);const M=document.querySelector(".js-list-fav"),j=document.querySelector(".js-categories-container");j.addEventListener("click",e=>{const a=document.querySelectorAll(".fav-category-fltr-btn");if(e.target.nodeName==="BUTTON")if(a.forEach(r=>r.classList.remove("active-category-fav")),e.target.classList.toggle("active-category-fav"),e.target.id!=="all")k(e.target.id);else{let r=localStorage.getItem("favoriteRecipes"),o=r?JSON.parse(r):[];d(o)}});function k(e){const a=t.filter(r=>r.category===e);M.innerHTML=n(a)}const C=document.querySelector(".js-list-fav");C.addEventListener("click",H);function H(e){var r,o;const a=document.querySelector(".js-list-fav");if(((r=e.target.closest("svg"))==null?void 0:r.nodeName)=="svg"){let p=e.target.closest("svg").dataset._id,g=t.findIndex(s=>s._id===p),m=[...new Set(t.map(s=>s.category))];if(g!==-1){if(t.splice(g,1),t.length>0){let i=(o=document.querySelector(".active-category-fav"))==null?void 0:o.id,L=t.filter(h=>i==="all"||h.category===i);a.innerHTML=n(L)}else a.innerHTML="",d(t);localStorage.setItem("favoriteRecipes",JSON.stringify(t));let s=[...new Set(t.map(i=>i.category))];m.filter(i=>!s.includes(i)).length&&(v(s),a.innerHTML=n(t))}}e.target.nodeName==="BUTTON"&&T(e)}
